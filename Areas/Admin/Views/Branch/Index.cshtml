@model IEnumerable<AccountingSuite.Models.Master.Branch>
@{
    ViewData["Title"] = "Admin - Branches";
    // ViewBag.States is a SelectList set in Index action
}


<div class="d-flex justify-content-between align-items-start mb-2">
    <h2 class="mb-0">Branch List</h2>
</div>

<div class="d-flex flex-wrap gap-2 mb-3 w-100">
    <form asp-action="Index" method="get" class="d-flex gap-2 w-50" asp-area="Admin" asp-controller="Branch">
        <select name="stateId" class="form-select form-select-sm border-dark w-100" asp-items="ViewBag.States">
            <option value="">-- Select State --</option>
        </select>
        <button type="submit" class="btn btn-sm btn-outline-primary text-nowrap">View Branch</button>
    </form>

    <a asp-area="Admin" asp-controller="Branch" asp-action="Index" class="btn btn-sm btn-success text-nowrap">View All Branches</a>

  <a asp-area="Admin" asp-controller="Branch" asp-action="Create" class="btn btn-sm btn-primary text-nowrap">
    Add Branch
</a>
</div>


<div class="table-responsive">
    <table class="table table-sm table-hover mt-2">
        <thead class="table-light">
            <tr>
                <th>Branch ID</th>
                <th>Branch Code</th>
                <th>Branch Name</th>
                <th>Email</th>
                <th>Address</th>
                <th>Pin Code</th>
                <th>Land Number</th>
                <th>Mobile Number</th>
                <th>Status</th>
                <th>Parcel Booking</th>
                <th>State</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var b in Model)
                {
                    <tr>
                        <td>@b.BranchId.ToString("D4")</td>
                        <td>@b.BranchCode</td>
                        <td>@b.BranchName</td>
                        <td>@b.Email</td>
                        <td>@b.Address</td>
                        <td>@b.PinCode</td>
                        <td>@b.LandNumber</td>
                        <td>@b.MobNumber</td>
                        <td>@(b.IsActive ? "Active" : "Inactive")</td>
                        <td>@(b.IsParcelBooking ? "Yes" : "No")</td>
                        <td>@(b.State != null ? b.State.StateName : "—")</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="11" class="text-center text-muted">No branches found.</td>
                </tr>
            }
        </tbody>
    </table>
</div>






